[2025-03-25 18:46:43] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:46:44] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:46:44] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:46:44] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 18:46:44] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 18:46:44] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:46:44] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:47:22] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:47:22] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:47:22] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:47:22] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 18:47:22] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 18:47:22] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:47:22] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:47:24] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:47:24] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:47:24] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:47:31] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:47:31] [DEBUG] Query: DELETE FROM cart_items WHERE id = ?
Params: [1]
[2025-03-25 18:47:31] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:47:31] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:47:34] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:47:34] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:47:34] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:47:34] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 18:47:34] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 18:47:34] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:47:34] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:47:38] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:47:38] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:47:38] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:47:38] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 18:47:38] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 18:47:38] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:47:38] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:49:12] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:49:12] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:49:12] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:49:12] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 18:49:12] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 18:49:12] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:49:12] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:49:15] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:49:15] [DEBUG] Query: SELECT * FROM products WHERE id = ? AND status = 'active'
Params: [1]
[2025-03-25 18:49:15] [DEBUG] Query: SELECT * FROM cart_items WHERE session_id = ? AND product_id = ?
Params: ["user_1",1]
[2025-03-25 18:49:15] [DEBUG] Query: INSERT INTO cart_items (session_id, product_id, quantity) VALUES (?, ?, ?)
Params: ["user_1",1,1]
[2025-03-25 18:49:23] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:49:23] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:49:23] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:49:23] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 18:49:23] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 18:49:23] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:49:23] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:49:31] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:49:31] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:49:31] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:49:31] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: [3]
[2025-03-25 18:49:31] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: [3]
[2025-03-25 18:49:31] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:49:31] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:49:33] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:49:33] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:49:33] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:49:33] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: [5]
[2025-03-25 18:49:33] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: [5]
[2025-03-25 18:49:33] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:49:33] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:49:34] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:49:34] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:49:34] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:49:34] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: [2]
[2025-03-25 18:49:34] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: [2]
[2025-03-25 18:49:34] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:49:34] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:49:36] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:49:36] [DEBUG] Query: SELECT * FROM products WHERE id = ? AND status = 'active'
Params: [9]
[2025-03-25 18:49:36] [DEBUG] Query: SELECT * FROM cart_items WHERE session_id = ? AND product_id = ?
Params: ["user_1",9]
[2025-03-25 18:49:36] [DEBUG] Query: INSERT INTO cart_items (session_id, product_id, quantity) VALUES (?, ?, ?)
Params: ["user_1",9,1]
[2025-03-25 18:49:38] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:49:38] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:49:38] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:49:38] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: [2]
[2025-03-25 18:49:38] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: [2]
[2025-03-25 18:49:38] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:49:38] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:50:14] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:50:14] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:50:14] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:50:14] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 18:50:14] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 18:50:14] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:50:14] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:52:51] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:52:51] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:52:51] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:52:51] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 18:52:51] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 18:52:51] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:52:51] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:59:46] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:59:46] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 18:59:46] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 18:59:46] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 18:59:46] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 18:59:46] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 18:59:46] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 18:59:51] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:59:51] [DEBUG] Query: SELECT * FROM products WHERE id = ? AND status = 'active'
Params: [10]
[2025-03-25 18:59:51] [DEBUG] Query: SELECT * FROM cart_items WHERE session_id = ? AND product_id = ?
Params: ["user_1",10]
[2025-03-25 18:59:51] [DEBUG] Query: INSERT INTO cart_items (session_id, product_id, quantity) VALUES (?, ?, ?)
Params: ["user_1",10,1]
[2025-03-25 18:59:55] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 18:59:55] [DEBUG] Query: SELECT * FROM products WHERE id = ? AND status = 'active'
Params: [10]
[2025-03-25 18:59:55] [DEBUG] Query: SELECT * FROM cart_items WHERE session_id = ? AND product_id = ?
Params: ["user_1",10]
[2025-03-25 18:59:55] [DEBUG] Query: UPDATE cart_items SET quantity = ? WHERE id = ?
Params: [2,"4"]
[2025-03-25 19:00:13] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:00:13] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:00:13] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:00:13] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:00:24] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:00:24] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:00:24] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:00:24] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:00:26] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:00:26] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 19:00:26] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 19:02:40] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:02:40] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:02:40] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:02:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:03:37] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:03:37] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:03:37] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:03:37] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:03:40] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:03:40] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:03:40] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:03:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:03:42] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:03:42] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:03:42] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:03:42] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:05:11] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: [null]
[2025-03-25 19:05:11] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:05:11] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:05:11] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:05:11] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:05:33] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 19:05:33] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:05:33] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:05:33] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:05:33] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:05:48] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 19:05:48] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:05:48] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:05:48] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:05:48] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:06:05] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 19:06:05] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:06:05] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 19:06:05] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 19:06:05] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 19:06:05] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 19:06:05] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 19:06:05] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 19:07:16] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:07:16] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 19:07:16] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:07:16] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 19:07:16] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 19:07:16] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 19:07:16] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 19:07:16] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 19:07:16] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 19:07:18] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:07:18] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 19:07:18] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:07:18] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:07:18] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:07:18] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:08:17] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 19:08:17] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 19:08:17] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                       FROM products p 
                       JOIN product_categories pc ON p.category_id = pc.id 
                       WHERE p.id = ? AND p.status = 'active'
Params: [6]
[2025-03-25 19:08:17] [DEBUG] Query: SELECT pr.*, u.name as customer_name
                        FROM product_reviews pr
                        JOIN users u ON pr.customer_id = u.id
                        WHERE pr.product_id = ? AND pr.status = 'approved'
                        ORDER BY pr.created_at DESC
Params: [6]
[2025-03-25 19:08:17] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price
                           FROM products p
                           WHERE p.category_id = ? AND p.id != ? AND p.status = 'active'
                           LIMIT 4
Params: ["4",6]
[2025-03-25 19:08:17] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:01] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:01] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:01] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:01] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:01] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:06:01] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 20:06:01] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 20:06:01] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:01] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:06:12] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:12] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:12] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:12] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:12] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:06:12] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: [2]
[2025-03-25 20:06:12] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: [2]
[2025-03-25 20:06:12] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:12] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:06:13] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:13] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:13] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:13] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:13] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:06:13] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: [5]
[2025-03-25 20:06:13] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: [5]
[2025-03-25 20:06:13] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:13] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:06:15] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:15] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:15] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:15] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:15] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:06:15] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: [4]
[2025-03-25 20:06:15] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.category_id = ? AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: [4]
[2025-03-25 20:06:15] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:15] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:06:17] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:17] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:17] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:17] [DEBUG] Query: SELECT * FROM products WHERE id = ? AND status = 'active'
Params: [6]
[2025-03-25 20:06:17] [DEBUG] Query: SELECT * FROM cart_items WHERE session_id = ? AND product_id = ?
Params: ["user_1",6]
[2025-03-25 20:06:17] [DEBUG] Query: INSERT INTO cart_items (session_id, product_id, quantity) VALUES (?, ?, ?)
Params: ["user_1",6,1]
[2025-03-25 20:06:19] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:19] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:19] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:19] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:19] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:26] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:26] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:26] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:26] [DEBUG] Query: DELETE FROM cart_items WHERE id = ?
Params: [2]
[2025-03-25 20:06:26] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:26] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:32] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:32] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:32] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:32] [DEBUG] Query: DELETE FROM cart_items WHERE id = ?
Params: [3]
[2025-03-25 20:06:32] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:32] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:39] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:39] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:39] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:39] [DEBUG] Query: SELECT ci.*, p.stock_quantity 
                         FROM cart_items ci
                         JOIN products p ON ci.product_id = p.id
                         WHERE ci.id = ?
Params: [4]
[2025-03-25 20:06:39] [DEBUG] Query: UPDATE cart_items SET quantity = ? WHERE id = ?
Params: [2,4]
[2025-03-25 20:06:39] [DEBUG] Query: SELECT ci.*, p.stock_quantity 
                         FROM cart_items ci
                         JOIN products p ON ci.product_id = p.id
                         WHERE ci.id = ?
Params: [5]
[2025-03-25 20:06:39] [DEBUG] Query: UPDATE cart_items SET quantity = ? WHERE id = ?
Params: [1,5]
[2025-03-25 20:06:39] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:39] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:41] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:41] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:41] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:41] [DEBUG] Query: SELECT ci.*, p.stock_quantity 
                         FROM cart_items ci
                         JOIN products p ON ci.product_id = p.id
                         WHERE ci.id = ?
Params: [4]
[2025-03-25 20:06:41] [DEBUG] Query: UPDATE cart_items SET quantity = ? WHERE id = ?
Params: [2,4]
[2025-03-25 20:06:41] [DEBUG] Query: SELECT ci.*, p.stock_quantity 
                         FROM cart_items ci
                         JOIN products p ON ci.product_id = p.id
                         WHERE ci.id = ?
Params: [5]
[2025-03-25 20:06:41] [DEBUG] Query: UPDATE cart_items SET quantity = ? WHERE id = ?
Params: [1,5]
[2025-03-25 20:06:41] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:41] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:48] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:48] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:48] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:48] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:48] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:06:48] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE (p.name LIKE ? OR p.description LIKE ? OR p.details LIKE ?) 
             AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: ["%Su%","%Su%","%Su%"]
[2025-03-25 20:06:48] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE (p.name LIKE ? OR p.description LIKE ? OR p.details LIKE ?) 
             AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: ["%Su%","%Su%","%Su%"]
[2025-03-25 20:06:48] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:48] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:06:53] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:53] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:53] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:53] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:53] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:06:53] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE (p.name LIKE ? OR p.description LIKE ? OR p.details LIKE ?) 
             AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: ["%\u0406\u0433%","%\u0406\u0433%","%\u0406\u0433%"]
[2025-03-25 20:06:53] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE (p.name LIKE ? OR p.description LIKE ? OR p.details LIKE ?) 
             AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: ["%\u0406\u0433%","%\u0406\u0433%","%\u0406\u0433%"]
[2025-03-25 20:06:53] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:53] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:06:56] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:56] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:56] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:56] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:56] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:06:56] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE (p.name LIKE ? OR p.description LIKE ? OR p.details LIKE ?) 
             AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: ["%\u0406\u0433\u0440%","%\u0406\u0433\u0440%","%\u0406\u0433\u0440%"]
[2025-03-25 20:06:56] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE (p.name LIKE ? OR p.description LIKE ? OR p.details LIKE ?) 
             AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: ["%\u0406\u0433\u0440%","%\u0406\u0433\u0440%","%\u0406\u0433\u0440%"]
[2025-03-25 20:06:56] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:56] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:06:58] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:58] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:58] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:06:58] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:06:58] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:06:58] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 20:06:58] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 20:06:58] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:06:58] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:07:05] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:07:05] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:07:05] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:07:05] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:07:05] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:07:05] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE (p.name LIKE ? OR p.description LIKE ? OR p.details LIKE ?) 
             AND p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: ["%\u043a\u043b%","%\u043a\u043b%","%\u043a\u043b%"]
[2025-03-25 20:07:05] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE (p.name LIKE ? OR p.description LIKE ? OR p.details LIKE ?) 
             AND p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: ["%\u043a\u043b%","%\u043a\u043b%","%\u043a\u043b%"]
[2025-03-25 20:07:05] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:07:05] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:07:14] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:07:14] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:07:14] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:07:14] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:07:14] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:07:14] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 20:07:14] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 20:07:14] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:07:14] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:07:27] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:07:27] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:07:27] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:07:27] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:07:27] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:07:27] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 20:07:27] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 20:07:27] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:07:27] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:08:16] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:08:16] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:08:16] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:08:16] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:08:16] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:08:16] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:08:16] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:08:46] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:08:46] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:08:46] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:08:46] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:08:46] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:08:46] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:08:46] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:08:53] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:08:53] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:08:53] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:08:53] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:08:53] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:08:53] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:08:53] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:08:59] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:08:59] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:08:59] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:08:59] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:08:59] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:08:59] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:08:59] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:33] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:33] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:33] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:33] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:09:33] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:09:33] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:09:33] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:40] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:40] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:09:40] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:09:40] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:09:40] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:40] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:40] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:09:40] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:09:40] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:09:40] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:44] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:44] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:44] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:44] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:09:44] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:09:44] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:09:44] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:46] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:46] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:46] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:46] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:09:46] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:09:46] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:09:46] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:46] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:46] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:46] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:46] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:09:46] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:09:46] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:09:46] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:47] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:47] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:47] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:47] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:09:47] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:09:47] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:09:47] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:48] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:48] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:48] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:48] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:09:48] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:09:48] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:09:48] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:49] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:49] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:49] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:49] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:09:49] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:09:49] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:09:49] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:09:53] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:53] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:09:53] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:09:53] [DEBUG] Query: SELECT m.*, 
                 s.name as sender_name, s.role as sender_role,
                 r.name as receiver_name, r.role as receiver_role
                 FROM messages m
                 LEFT JOIN users s ON m.sender_id = s.id
                 LEFT JOIN users r ON m.receiver_id = r.id
                 ORDER BY m.created_at DESC
Params: []
[2025-03-25 20:09:53] [DEBUG] Query: SELECT u.*, 
                 (SELECT COUNT(*) FROM orders WHERE customer_id = u.id) as order_count
                 FROM users u
                 ORDER BY u.role, u.name
Params: []
[2025-03-25 20:10:04] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:04] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:10:04] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:04] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: []
[2025-03-25 20:10:04] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: []
[2025-03-25 20:10:11] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:11] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:10:11] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:11] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 WHERE o.status = ?
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: ["processing"]
[2025-03-25 20:10:11] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 WHERE o.status = ?
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: ["processing"]
[2025-03-25 20:10:12] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:12] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:10:12] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:12] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 WHERE o.status = ?
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: ["ready_for_pickup"]
[2025-03-25 20:10:12] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 WHERE o.status = ?
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: ["ready_for_pickup"]
[2025-03-25 20:10:13] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:13] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:10:13] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:13] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: []
[2025-03-25 20:10:13] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: []
[2025-03-25 20:10:25] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:25] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:10:25] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:10:25] [DEBUG] Query: SELECT * FROM cameras ORDER BY name
Params: []
[2025-03-25 20:11:50] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:11:50] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:11:50] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:11:50] [DEBUG] Query: SELECT * FROM cameras ORDER BY name
Params: []
[2025-03-25 20:11:51] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:11:51] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:11:51] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:11:51] [DEBUG] Query: SELECT * FROM cameras ORDER BY name
Params: []
[2025-03-25 20:11:53] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:11:53] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:11:53] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:04] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:04] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:12:04] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:07] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:07] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:12:07] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:07] [DEBUG] Query: SELECT * FROM promotions ORDER BY start_date DESC
Params: []
[2025-03-25 20:12:25] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:25] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:12:25] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:26] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:26] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:12:26] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:26] [DEBUG] Query: SELECT 
                    DATE(o.created_at) as date,
                    COUNT(DISTINCT o.id) as order_count,
                    SUM(o.total_amount) as total_sales,
                    COUNT(DISTINCT o.customer_id) as unique_customers
                 FROM orders o
                 WHERE o.created_at BETWEEN ? AND ?
                 AND o.status != 'cancelled'
                 GROUP BY DATE(o.created_at)
                 ORDER BY DATE(o.created_at)
Params: ["2025-02-23","2025-03-25"]
[2025-03-25 20:12:26] [DEBUG] Query: SELECT 
                    pc.id, 
                    pc.name, 
                    COUNT(DISTINCT o.id) as order_count,
                    SUM(oi.quantity) as total_quantity,
                    SUM(oi.quantity * oi.price) as total_sales
                 FROM product_categories pc
                 JOIN products p ON pc.id = p.category_id
                 JOIN order_items oi ON p.id = oi.product_id
                 JOIN orders o ON oi.order_id = o.id
                 WHERE o.status != 'cancelled'
                 GROUP BY pc.id, pc.name
                 ORDER BY total_sales DESC
                 LIMIT ?
Params: [5]
[2025-03-25 20:12:26] [DEBUG] Query: SELECT u.id, u.name, u.email, u.phone,
                COUNT(o.id) as order_count,
                SUM(o.total_amount) as total_spent,
                MAX(o.created_at) as last_order_date
                FROM users u
                JOIN orders o ON u.id = o.customer_id
                WHERE u.role = 'customer'
                GROUP BY u.id, u.name, u.email, u.phone
                ORDER BY order_count DESC
                LIMIT ?
Params: [10]
[2025-03-25 20:12:26] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price, pc.name as category_name,
                SUM(oi.quantity) as total_sold,
                COUNT(DISTINCT o.id) as order_count
                FROM products p
                JOIN order_items oi ON p.id = oi.product_id
                JOIN orders o ON oi.order_id = o.id
                JOIN product_categories pc ON p.category_id = pc.id
                GROUP BY p.id, p.name, p.image, p.price, pc.name
                ORDER BY total_sold DESC
                LIMIT ?
Params: [10]
[2025-03-25 20:12:28] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:28] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:12:28] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:28] [DEBUG] Query: SELECT 
                    DATE(o.created_at) as date,
                    COUNT(DISTINCT o.id) as order_count,
                    SUM(o.total_amount) as total_sales,
                    COUNT(DISTINCT o.customer_id) as unique_customers
                 FROM orders o
                 WHERE o.created_at BETWEEN ? AND ?
                 AND o.status != 'cancelled'
                 GROUP BY DATE(o.created_at)
                 ORDER BY DATE(o.created_at)
Params: ["2025-02-23","2025-03-25"]
[2025-03-25 20:12:28] [DEBUG] Query: SELECT 
                    pc.id, 
                    pc.name, 
                    COUNT(DISTINCT o.id) as order_count,
                    SUM(oi.quantity) as total_quantity,
                    SUM(oi.quantity * oi.price) as total_sales
                 FROM product_categories pc
                 JOIN products p ON pc.id = p.category_id
                 JOIN order_items oi ON p.id = oi.product_id
                 JOIN orders o ON oi.order_id = o.id
                 WHERE o.status != 'cancelled'
                 GROUP BY pc.id, pc.name
                 ORDER BY total_sales DESC
                 LIMIT ?
Params: [5]
[2025-03-25 20:12:28] [DEBUG] Query: SELECT u.id, u.name, u.email, u.phone,
                COUNT(o.id) as order_count,
                SUM(o.total_amount) as total_spent,
                MAX(o.created_at) as last_order_date
                FROM users u
                JOIN orders o ON u.id = o.customer_id
                WHERE u.role = 'customer'
                GROUP BY u.id, u.name, u.email, u.phone
                ORDER BY order_count DESC
                LIMIT ?
Params: [10]
[2025-03-25 20:12:28] [DEBUG] Query: SELECT p.id, p.name, p.image, p.price, pc.name as category_name,
                SUM(oi.quantity) as total_sold,
                COUNT(DISTINCT o.id) as order_count
                FROM products p
                JOIN order_items oi ON p.id = oi.product_id
                JOIN orders o ON oi.order_id = o.id
                JOIN product_categories pc ON p.category_id = pc.id
                GROUP BY p.id, p.name, p.image, p.price, pc.name
                ORDER BY total_sold DESC
                LIMIT ?
Params: [10]
[2025-03-25 20:12:46] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:46] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:12:46] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:46] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                        FROM products p 
                        JOIN product_categories pc ON p.category_id = pc.id 
                        WHERE p.stock_quantity < p.min_stock 
                        ORDER BY (p.min_stock - p.stock_quantity) DESC
Params: []
[2025-03-25 20:12:46] [DEBUG] Query: SELECT * FROM cameras WHERE status = 'inactive'
Params: []
[2025-03-25 20:12:46] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                              FROM orders o 
                              JOIN users u ON o.customer_id = u.id 
                              WHERE o.status = 'pending' 
                              AND o.created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR)
Params: []
[2025-03-25 20:12:46] [DEBUG] Query: SELECT m.*, u.name as sender_name 
                               FROM messages m 
                               JOIN users u ON m.sender_id = u.id 
                               WHERE m.receiver_id = 1 
                               AND m.is_read = 0
Params: []
[2025-03-25 20:12:50] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:50] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:12:50] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:50] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: []
[2025-03-25 20:12:50] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: []
[2025-03-25 20:12:52] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:52] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:12:52] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:12:52] [DEBUG] Query: SELECT o.*, 
                      u.name as customer_name, u.email as customer_email, 
                      u.phone as customer_phone, u.address as customer_address,
                      u.city as customer_city, u.region as customer_region,
                      u.postal_code as customer_postal_code,
                      m.name as manager_name
                      FROM orders o
                      LEFT JOIN users u ON o.customer_id = u.id
                      LEFT JOIN users m ON o.sales_manager_id = m.id
                      WHERE o.id = ?
Params: [5]
[2025-03-25 20:12:52] [DEBUG] Query: SELECT oi.*, p.name as product_name, p.image, p.price as current_price,
                      pc.name as category_name
                      FROM order_items oi
                      JOIN products p ON oi.product_id = p.id
                      JOIN product_categories pc ON p.category_id = pc.id
                      WHERE oi.order_id = ?
Params: [5]
[2025-03-25 20:13:11] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:13:11] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:13:11] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:13:11] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: []
[2025-03-25 20:13:11] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: []
[2025-03-25 20:13:11] [DEBUG] Query: SELECT * FROM orders WHERE id = ?
Params: [5]
[2025-03-25 20:13:11] [DEBUG] Query: UPDATE orders SET 
                      payment_status = ?, 
                      notes = CONCAT(IFNULL(notes, ''), '
', ?)
                      WHERE id = ?
Params: ["paid","2025-03-25 20:13:11 - \u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u043f\u043b\u0430\u0442\u0438 \u0437\u043c\u0456\u043d\u0435\u043d\u043e \u043d\u0430 'paid'",5]
[2025-03-25 20:13:11] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:13:11] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:13:11] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:13:11] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: []
[2025-03-25 20:13:11] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: []
[2025-03-25 20:13:18] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:13:18] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:13:18] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:13:18] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: []
[2025-03-25 20:13:18] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: []
[2025-03-25 20:13:18] [DEBUG] Query: SELECT * FROM orders WHERE id = ?
Params: [5]
[2025-03-25 20:13:18] [DEBUG] Query: SELECT * FROM users WHERE id = ? AND role = 'sales'
Params: [3]
[2025-03-25 20:13:18] [DEBUG] Query: UPDATE orders SET sales_manager_id = ? WHERE id = ?
Params: [3,5]
[2025-03-25 20:13:18] [DEBUG] Query: UPDATE orders SET notes = CONCAT(IFNULL(notes, ''), '
', ?) WHERE id = ?
Params: ["2025-03-25 20:13:18 - \u041f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430: \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0437 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",5]
[2025-03-25 20:13:18] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:13:18] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:13:18] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:13:18] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: []
[2025-03-25 20:13:18] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: []
[2025-03-25 20:13:32] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:13:32] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:13:32] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:13:36] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:13:48] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:13:48] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:13:48] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:13:48] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 20:13:48] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 20:13:48] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:13:48] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:14:13] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:14:13] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:14:13] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:14:13] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 20:14:13] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 20:14:13] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:14:13] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:14:26] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:14:26] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:14:26] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:14:26] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 20:14:26] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 20:14:26] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:14:26] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:14:44] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:14:44] [DEBUG] Query: SELECT * FROM products WHERE id = ? AND status = 'active'
Params: [6]
[2025-03-25 20:14:44] [DEBUG] Query: SELECT * FROM cart_items WHERE session_id = ? AND product_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936",6]
[2025-03-25 20:14:44] [DEBUG] Query: INSERT INTO cart_items (session_id, product_id, quantity) VALUES (?, ?, ?)
Params: ["fa3d4b565f0ee9195eb838e220260936",6,1]
[2025-03-25 20:14:51] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:14:51] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:14:51] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:14:59] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:14:59] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:14:59] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:15:07] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:15:13] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:15:13] [DEBUG] Query: SELECT * FROM users WHERE username = ? AND status = 'active'
Params: ["admin"]
[2025-03-25 20:15:26] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:15:26] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:15:26] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:15:26] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: []
[2025-03-25 20:15:26] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: []
[2025-03-25 20:15:32] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:15:32] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:15:32] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:15:32] [DEBUG] Query: SELECT * FROM promotions ORDER BY start_date DESC
Params: []
[2025-03-25 20:15:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:15:40] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:15:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:15:40] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:15:40] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                FROM products p 
                JOIN product_categories pc ON p.category_id = pc.id 
                ORDER BY p.name
Params: []
[2025-03-25 20:15:44] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:15:44] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:15:44] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:15:44] [DEBUG] Query: SELECT u.*, 
                 (SELECT COUNT(*) FROM orders WHERE customer_id = u.id) as order_count
                 FROM users u
                 ORDER BY u.role, u.name
Params: []
[2025-03-25 20:15:55] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:15:55] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:15:55] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:15:57] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:15:57] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:16:00] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:16:06] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:16:06] [DEBUG] Query: SELECT * FROM users WHERE username = ? AND status = 'active'
Params: ["admin"]
[2025-03-25 20:16:10] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:16:10] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:16:10] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:16:10] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:16:10] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:16:10] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC) as count_query
Params: []
[2025-03-25 20:16:10] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.status = 'active'
             ORDER BY p.name ASC LIMIT 0, 12
Params: []
[2025-03-25 20:16:10] [DEBUG] Query: SELECT * FROM promotions 
                 WHERE status = 'active' 
                 AND (NOW() BETWEEN start_date AND end_date)
                 ORDER BY min_order_amount DESC
Params: []
[2025-03-25 20:16:10] [DEBUG] Query: SELECT p.*, pc.name as category_name 
             FROM products p 
             JOIN product_categories pc ON p.category_id = pc.id 
             WHERE p.featured = 1 AND p.status = 'active'
             ORDER BY p.name
             LIMIT ?
Params: [4]
[2025-03-25 20:16:18] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:16:18] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:16:18] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:16:18] [DEBUG] Query: SELECT * FROM product_categories ORDER BY name
Params: []
[2025-03-25 20:16:18] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                FROM products p 
                JOIN product_categories pc ON p.category_id = pc.id 
                ORDER BY p.name
Params: []
[2025-03-25 20:16:23] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:16:23] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:16:23] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:16:23] [DEBUG] Query: SELECT u.*, 
                 (SELECT COUNT(*) FROM orders WHERE customer_id = u.id) as order_count
                 FROM users u
                 ORDER BY u.role, u.name
Params: []
[2025-03-25 20:16:29] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["1"]
[2025-03-25 20:16:29] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_1"]
[2025-03-25 20:16:29] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:16:32] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:16:32] [DEBUG] Query: SELECT * FROM users WHERE username = ? AND status = 'active'
Params: ["warehouse"]
[2025-03-25 20:16:32] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["2"]
[2025-03-25 20:16:32] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_2"]
[2025-03-25 20:16:32] [DEBUG] Query: SELECT 
                COUNT(*) as total_products,
                SUM(CASE WHEN category_id = 1 THEN 1 ELSE 0 END) as red_wine_count,
                SUM(CASE WHEN category_id = 2 THEN 1 ELSE 0 END) as white_wine_count,
                SUM(CASE WHEN category_id IN (3, 4, 5) THEN 1 ELSE 0 END) as other_wine_count,
                SUM(CASE WHEN stock_quantity <= min_stock THEN 1 ELSE 0 END) as low_stock_count,
                SUM(stock_quantity) as total_stock_items,
                SUM(stock_quantity * price) as total_stock_value
             FROM products
Params: []
[2025-03-25 20:16:32] [DEBUG] Query: SELECT o.*, u.name as customer_name 
                        FROM orders o
                        JOIN users u ON o.customer_id = u.id
                        WHERE o.status IN ('pending', 'processing')
                        ORDER BY o.created_at ASC
Params: []
[2025-03-25 20:16:32] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                            FROM products p
                            JOIN product_categories pc ON p.category_id = pc.id
                            WHERE p.stock_quantity <= p.min_stock
                            ORDER BY ((p.min_stock - p.stock_quantity) / p.min_stock) DESC
Params: []
[2025-03-25 20:16:32] [DEBUG] Query: SELECT 
                            DATE(it.created_at) as date,
                            SUM(CASE WHEN it.transaction_type = 'in' THEN it.quantity ELSE 0 END) as in_quantity,
                            SUM(CASE WHEN it.transaction_type = 'out' THEN it.quantity ELSE 0 END) as out_quantity,
                            COUNT(CASE WHEN it.transaction_type = 'in' THEN 1 ELSE NULL END) as in_count,
                            COUNT(CASE WHEN it.transaction_type = 'out' THEN 1 ELSE NULL END) as out_count
                        FROM inventory_transactions it
                        WHERE it.created_at BETWEEN ? AND ?
                        GROUP BY DATE(it.created_at)
                        ORDER BY DATE(it.created_at)
Params: ["2025-03-18","2025-03-25"]
[2025-03-25 20:16:32] [DEBUG] Query: SELECT p.id, p.name, p.image, pc.name as category_name,
                        SUM(CASE WHEN it.transaction_type = 'out' THEN it.quantity ELSE 0 END) as total_out,
                        COUNT(DISTINCT CASE WHEN it.reference_type = 'order' THEN it.reference_id ELSE NULL END) as order_count
                     FROM products p
                     JOIN product_categories pc ON p.category_id = pc.id
                     JOIN inventory_transactions it ON p.id = it.product_id
                     WHERE it.transaction_type = 'out'
                     GROUP BY p.id, p.name, p.image, pc.name
                     ORDER BY total_out DESC
                     LIMIT 5
Params: []
[2025-03-25 20:16:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["2"]
[2025-03-25 20:16:40] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_2"]
[2025-03-25 20:16:40] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["2"]
[2025-03-25 20:16:40] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                FROM products p 
                JOIN product_categories pc ON p.category_id = pc.id 
                ORDER BY p.name
Params: []
[2025-03-25 20:16:47] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["2"]
[2025-03-25 20:16:47] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_2"]
[2025-03-25 20:16:47] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["2"]
[2025-03-25 20:16:47] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT it.*, 
             p.name as product_name, 
             u.name as user_name
             FROM inventory_transactions it
             LEFT JOIN products p ON it.product_id = p.id
             LEFT JOIN users u ON it.created_by = u.id
             WHERE 1=1 ORDER BY it.created_at DESC) as count_query
Params: []
[2025-03-25 20:16:47] [DEBUG] Query: SELECT it.*, 
             p.name as product_name, 
             u.name as user_name
             FROM inventory_transactions it
             LEFT JOIN products p ON it.product_id = p.id
             LEFT JOIN users u ON it.created_by = u.id
             WHERE 1=1 ORDER BY it.created_at DESC LIMIT 0, 20
Params: []
[2025-03-25 20:16:47] [DEBUG] Query: SELECT p.*, pc.name as category_name 
                FROM products p 
                JOIN product_categories pc ON p.category_id = pc.id 
                ORDER BY p.name
Params: []
[2025-03-25 20:16:57] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["2"]
[2025-03-25 20:16:57] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_2"]
[2025-03-25 20:16:57] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT * FROM users WHERE username = ? AND status = 'active'
Params: ["sales"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["3"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_3"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["3"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT 
                  COUNT(*) as total_orders,
                  SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END) as pending_count,
                  SUM(CASE WHEN status = 'processing' THEN 1 ELSE 0 END) as processing_count,
                  SUM(CASE WHEN status = 'ready_for_pickup' THEN 1 ELSE 0 END) as ready_count,
                  SUM(CASE WHEN status = 'shipped' THEN 1 ELSE 0 END) as shipped_count,
                  SUM(CASE WHEN status = 'delivered' THEN 1 ELSE 0 END) as delivered_count,
                  SUM(CASE WHEN status = 'completed' THEN 1 ELSE 0 END) as completed_count,
                  SUM(CASE WHEN status = 'cancelled' THEN 1 ELSE 0 END) as cancelled_count,
                  SUM(total_amount) as total_sales
               FROM orders
               WHERE sales_manager_id = ?
Params: ["3"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT o.*, 
                         u.name as customer_name, u.phone as customer_phone,
                         COUNT(oi.id) as items_count
                         FROM orders o
                         LEFT JOIN users u ON o.customer_id = u.id
                         LEFT JOIN order_items oi ON o.id = oi.order_id
                         WHERE o.sales_manager_id = ? AND (o.status = 'pending' OR o.status = 'processing')
                         GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                                 o.status, o.payment_status, o.payment_method, o.shipping_address,
                                 o.shipping_cost, o.notes, o.created_at, o.updated_at,
                                 u.name, u.phone
                         ORDER BY o.created_at ASC
                         LIMIT 10
Params: ["3"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT m.*, u.name as sender_name, u.role as sender_role
                     FROM messages m
                     JOIN users u ON m.sender_id = u.id
                     WHERE m.receiver_id = ? AND m.is_read = 0
                     ORDER BY m.created_at DESC
Params: ["3"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT 
                       DATE(created_at) as date,
                       COUNT(*) as order_count,
                       SUM(total_amount) as total_sales
                    FROM orders
                    WHERE sales_manager_id = ? AND created_at >= ?
                    GROUP BY DATE(created_at)
                    ORDER BY DATE(created_at)
Params: ["3","2025-02-23"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT u.id, u.name, u.email, u.phone,
                        COUNT(o.id) as order_count,
                        SUM(o.total_amount) as total_spent,
                        MAX(o.created_at) as last_order_date
                     FROM users u
                     JOIN orders o ON u.id = o.customer_id
                     WHERE o.sales_manager_id = ?
                     GROUP BY u.id, u.name, u.email, u.phone
                     ORDER BY total_spent DESC
                     LIMIT 5
Params: ["3"]
[2025-03-25 20:17:08] [DEBUG] Query: SELECT p.id, p.name, p.image, pc.name as category_name,
                       SUM(oi.quantity) as total_quantity,
                       COUNT(DISTINCT o.id) as order_count,
                       SUM(oi.quantity * oi.price) as total_sales
                    FROM products p
                    JOIN product_categories pc ON p.category_id = pc.id
                    JOIN order_items oi ON p.id = oi.product_id
                    JOIN orders o ON oi.order_id = o.id
                    WHERE o.sales_manager_id = ?
                    GROUP BY p.id, p.name, p.image, pc.name
                    ORDER BY total_sales DESC
                    LIMIT 5
Params: ["3"]
[2025-03-25 20:17:21] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["3"]
[2025-03-25 20:17:21] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_3"]
[2025-03-25 20:17:21] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["3"]
[2025-03-25 20:17:21] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 WHERE o.sales_manager_id = ?
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: ["3"]
[2025-03-25 20:17:21] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 WHERE o.sales_manager_id = ?
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: ["3"]
[2025-03-25 20:24:00] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["3"]
[2025-03-25 20:24:00] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_3"]
[2025-03-25 20:24:00] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["3"]
[2025-03-25 20:24:00] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 WHERE o.sales_manager_id = ?
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC) as count_query
Params: ["3"]
[2025-03-25 20:24:00] [DEBUG] Query: SELECT o.*, 
                 u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
                 COUNT(oi.id) as items_count, 
                 SUM(oi.quantity) as total_items
                 FROM orders o
                 LEFT JOIN users u ON o.customer_id = u.id
                 LEFT JOIN order_items oi ON o.id = oi.order_id
                 WHERE o.sales_manager_id = ?
                 GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                         o.status, o.payment_status, o.payment_method, o.shipping_address,
                         o.shipping_cost, o.notes, o.created_at, o.updated_at,
                         u.name, u.email, u.phone
                 ORDER BY o.created_at DESC LIMIT 0, 12
Params: ["3"]
[2025-03-25 20:24:04] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["3"]
[2025-03-25 20:24:04] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_3"]
[2025-03-25 20:24:04] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["3"]
[2025-03-25 20:24:04] [DEBUG] Query: SELECT COUNT(*) as total FROM (SELECT o.*, 
             u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
             COUNT(oi.id) as items_count, 
             SUM(oi.quantity) as total_items
             FROM orders o
             LEFT JOIN users u ON o.customer_id = u.id
             LEFT JOIN order_items oi ON o.id = oi.order_id
             WHERE (o.id LIKE ? OR u.name LIKE ? OR u.email LIKE ? OR u.phone LIKE ?)
             GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                     o.status, o.payment_status, o.payment_method, o.shipping_address,
                     o.shipping_cost, o.notes, o.created_at, o.updated_at,
                     u.name, u.email, u.phone
             ORDER BY o.created_at DESC) as count_query
Params: ["%\u043f\u0435%","%\u043f\u0435%","%\u043f\u0435%","%\u043f\u0435%"]
[2025-03-25 20:24:04] [DEBUG] Query: SELECT o.*, 
             u.name as customer_name, u.email as customer_email, u.phone as customer_phone,
             COUNT(oi.id) as items_count, 
             SUM(oi.quantity) as total_items
             FROM orders o
             LEFT JOIN users u ON o.customer_id = u.id
             LEFT JOIN order_items oi ON o.id = oi.order_id
             WHERE (o.id LIKE ? OR u.name LIKE ? OR u.email LIKE ? OR u.phone LIKE ?)
             GROUP BY o.id, o.customer_id, o.sales_manager_id, o.total_amount,
                     o.status, o.payment_status, o.payment_method, o.shipping_address,
                     o.shipping_cost, o.notes, o.created_at, o.updated_at,
                     u.name, u.email, u.phone
             ORDER BY o.created_at DESC LIMIT 0, 12
Params: ["%\u043f\u0435%","%\u043f\u0435%","%\u043f\u0435%","%\u043f\u0435%"]
[2025-03-25 20:24:15] [DEBUG] Query: SELECT * FROM users WHERE id = ?
Params: ["3"]
[2025-03-25 20:24:15] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["user_3"]
[2025-03-25 20:24:15] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:24:17] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 20:24:18] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 22:29:34] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
[2025-03-25 22:29:34] [DEBUG] Query: SELECT ci.*, p.name, p.image, p.price, p.stock_quantity
                FROM cart_items ci
                JOIN products p ON ci.product_id = p.id
                WHERE ci.session_id = ?
Params: ["fa3d4b565f0ee9195eb838e220260936"]
